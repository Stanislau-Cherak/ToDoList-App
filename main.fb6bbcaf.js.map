{"version":3,"sources":["js/constants.js","js/modal.js","js/main.js"],"names":["DOC","document","DATE_INPUT","getElementById","ADD_BUTTON","querySelector","INPUT_TEXT","PROGRESS_AREA","DONE_AREA","LIST_EDIT","LIST_IN_PROGRESS","LIST_DONE","MAIN_MODAL","ALERT_MODAL","SAVE_BUTTON","CLOSE_BUTTONS","querySelectorAll","CANCEL_BUTTON","OK_BUTTON","CURRENT_DATE","Date","body","timeOut","bodyLock","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","classList","add","bodyUnlock","setTimeout","remove","closeModal","event","target","closest","allCloseModalButtons","addCloseButtonsListener","getCurrentDate","ToDoListData","checkLocalStarage","buttons","addEventListener","name","localStorage","JSON","parse","getItem","Array","renderContent","data","createItem","date","month","getMonth","preparedMonth","textContent","getDate","getFullYear","min","addNewCard","value","item","id","getUniqueId","text","state","push","showAlertMessage","baseHTMLString","acceptButton","deleteButton","insertAdjacentHTML","startDrag","endDrag","editItem","acceptItem","deleteItem","dataset","parentNode","setItem","stringify","removeListener","filter","removeEventListener","removeChild","idLength","Math","floor","random","toString","getTime","length","dataTransfer","setData","effectAllowed","enterDrag","overDrag","preventDefault","dropEffect","dropDrag","getData","items","contains","relatedTarget"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..\\src","sourcesContent":["export const DOC = document;\r\nexport const DATE_INPUT=DOC.getElementById('date');\r\nexport const ADD_BUTTON = DOC.querySelector('.add-button');\r\nexport const INPUT_TEXT = DOC.getElementById('toDo');\r\nexport const PROGRESS_AREA=DOC.querySelector('.in-progress');\r\nexport const DONE_AREA=DOC.querySelector('.done');\r\nexport const LIST_EDIT = DOC.querySelector('.list-edit');\r\nexport const LIST_IN_PROGRESS = DOC.querySelector('.list-in-progress');\r\nexport const LIST_DONE = DOC.querySelector('.list-done');\r\nexport const MAIN_MODAL=DOC.getElementById('main-modal');\r\nexport const ALERT_MODAL=DOC.getElementById('alert-modal');\r\nexport const SAVE_BUTTON=DOC.querySelector('.save-button');\r\nexport const CLOSE_BUTTONS=DOC.querySelectorAll('.close-button');\r\nexport const CANCEL_BUTTON=DOC.querySelector('.cancel-button');\r\nexport const OK_BUTTON=DOC.querySelector('.ok-button');\r\nexport const CURRENT_DATE = new Date();","import { DOC } from './constants.js';\r\n\r\nconst body = DOC.querySelector('body');\r\nconst timeOut = 500;\r\n\r\nexport function bodyLock() {\r\n    const lockPaddingValue = window.innerWidth - DOC.querySelector('main').offsetWidth + 'px';\r\n    body.style.paddingRight = lockPaddingValue;\r\n    body.classList.add('lock');\r\n}\r\n\r\nfunction bodyUnlock() {\r\n    setTimeout(() => {\r\n        body.style.paddingRight = '0px';\r\n        body.classList.remove('lock');\r\n    }, timeOut);\r\n}\r\n\r\nexport function closeModal (event) {\r\n    event.target.closest('.modal').classList.remove('open');\r\n    bodyUnlock();\r\n}","import { DOC, DATE_INPUT, ADD_BUTTON, INPUT_TEXT, PROGRESS_AREA, DONE_AREA, LIST_EDIT, LIST_IN_PROGRESS, LIST_DONE, MAIN_MODAL, ALERT_MODAL, SAVE_BUTTON, CLOSE_BUTTONS, CANCEL_BUTTON, OK_BUTTON, CURRENT_DATE } from './constants.js';\r\nimport { bodyLock, closeModal } from './modal.js';\r\n\r\nlet allCloseModalButtons = [CANCEL_BUTTON, ...CLOSE_BUTTONS, OK_BUTTON];\r\naddCloseButtonsListener(allCloseModalButtons);\r\n\r\ngetCurrentDate(CURRENT_DATE);\r\nlet ToDoListData = checkLocalStarage('ToDoListData');\r\n\r\nrenderContent(ToDoListData);\r\n\r\nPROGRESS_AREA.addEventListener('dragover', overDrag);\r\nPROGRESS_AREA.addEventListener('dragenter', enterDrag);\r\nPROGRESS_AREA.addEventListener('drop', dropDrag);\r\n\r\nPROGRESS_AREA.addEventListener('dragleave', function (event) {\r\n    if (!PROGRESS_AREA.contains(event.relatedTarget)) {\r\n        PROGRESS_AREA.classList.remove('drag-hover');\r\n    }\r\n});\r\n\r\nDONE_AREA.addEventListener('dragover', overDrag);\r\nDONE_AREA.addEventListener('dragenter', enterDrag);\r\nDONE_AREA.addEventListener('drop', dropDrag);\r\n\r\n\r\nDONE_AREA.addEventListener('dragleave', function (event) {\r\n    if (!DONE_AREA.contains(event.relatedTarget)) {\r\n        DONE_AREA.classList.remove('drag-hover');\r\n    }\r\n});\r\n\r\nADD_BUTTON.addEventListener('click', () => {\r\n    addNewCard(ToDoListData);\r\n    localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData))\r\n});\r\n\r\nSAVE_BUTTON.addEventListener('click', (event) => {\r\n    for (let data of ToDoListData) {\r\n        if (data.id == event.target.parentNode.parentNode.dataset.id) {\r\n            data.date = DOC.getElementById('date-modal').value;\r\n            data.text = DOC.getElementById('toDo-modal').value;\r\n            localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n        }\r\n    }\r\n    for (let item of DOC.querySelectorAll('.item-edit')) {\r\n        if (item.dataset.id == event.target.parentNode.parentNode.dataset.id) {\r\n            item.querySelector('.date').textContent = DOC.getElementById('date-modal').value;\r\n            item.querySelector('.item-text').textContent = DOC.getElementById('toDo-modal').value;\r\n        }\r\n    }\r\n    closeModal(event);\r\n});\r\n\r\nMAIN_MODAL.addEventListener('click', (event) => {\r\n    if (!event.target.closest('.modal-content')) {\r\n        closeModal(event);\r\n    }\r\n});\r\n\r\nALERT_MODAL.addEventListener('click', (event) => {\r\n    if (!event.target.closest('.modal-content')) {\r\n        closeModal(event);\r\n    }\r\n});\r\n\r\nfunction addCloseButtonsListener(buttons) {\r\n    for (let button of buttons) {\r\n        button.addEventListener('click', (event) => {\r\n            closeModal(event);\r\n        });\r\n    }\r\n}\r\n\r\nfunction checkLocalStarage(name) {\r\n    if (name in localStorage) {\r\n        return JSON.parse(localStorage.getItem('ToDoListData'))\r\n    }\r\n    else {\r\n        return new Array;\r\n    }\r\n}\r\n\r\nfunction renderContent(data) {\r\n    for (let elem of data) {\r\n        createItem(elem);\r\n    }\r\n}\r\n\r\nfunction getCurrentDate(date) {\r\n    const month = date.getMonth() + 1;\r\n    let preparedMonth ='';\r\n\r\n    if (month > 9) {\r\n        preparedMonth = month;\r\n    } else {\r\n       preparedMonth = `0${month}`;\r\n    }\r\n\r\n    DOC.querySelector('.head-current-date').textContent = `${preparedMonth}.${date.getDate()}.${date.getFullYear()}`;\r\n    DOC.getElementById('date').min = `${date.getFullYear()}-${preparedMonth}-${date.getDate()}`;\r\n    DOC.getElementById('date-modal').min = `${date.getFullYear()}-${preparedMonth}-${date.getDate()}`;\r\n}\r\n\r\nfunction addNewCard(data) {\r\n    if ((INPUT_TEXT.value != '') && (DATE_INPUT.value != '')) {\r\n        const item = {\r\n            id: getUniqueId(),\r\n            date: DATE_INPUT.value,\r\n            text: INPUT_TEXT.value,\r\n            state: 'edit',\r\n        }\r\n        data.push(item);\r\n        createItem(item);\r\n        INPUT_TEXT.value = '';\r\n    }\r\n    else {\r\n        showAlertMessage();\r\n    }\r\n}\r\n\r\nfunction showAlertMessage() {\r\n    ALERT_MODAL.classList.add('open');\r\n    bodyLock();\r\n}\r\n\r\nfunction createItem({ id, date, text, state }) {\r\n    const baseHTMLString = `\r\n    <li class='item item-${state}' data-id='${id}' draggable=\"true\">\r\n    <div class='date date-${state}'>\r\n    <p class='deadline'>Deadline:</p>\r\n    <p class='deadline'>${date}</p>    \r\n    </div>\r\n    <p class=\"item-text item-text-${state}\">${text}</p>\r\n    <div class=\"buttons buttons-${state}\">\r\n    </div>\r\n    </li>`;\r\n    const editButton = `<div class='button edit-button'></div>`;\r\n    const acceptButton = `<div class='button accept-button'></div>`;\r\n    const deleteButton = `<div class='button delete-button'></div>`;\r\n    if (state == 'edit') {\r\n        LIST_EDIT.insertAdjacentHTML('afterbegin', baseHTMLString);\r\n        LIST_EDIT.querySelector('.buttons').insertAdjacentHTML('afterbegin', editButton + acceptButton + deleteButton);\r\n        LIST_EDIT.querySelector('.item').addEventListener('dragstart', startDrag);\r\n        LIST_EDIT.querySelector('.item').addEventListener('dragend', endDrag);\r\n        LIST_EDIT.querySelector('.edit-button').addEventListener('click', editItem);\r\n        LIST_EDIT.querySelector('.accept-button').addEventListener('click', acceptItem);\r\n        LIST_EDIT.querySelector('.delete-button').addEventListener('click', deleteItem);\r\n    }\r\n    if (state == 'accept') {\r\n        LIST_IN_PROGRESS.insertAdjacentHTML('afterbegin', baseHTMLString);\r\n        LIST_IN_PROGRESS.querySelector('.buttons').insertAdjacentHTML('afterbegin', acceptButton + deleteButton);\r\n        LIST_IN_PROGRESS.querySelector('.item').addEventListener('dragstart', startDrag);\r\n        LIST_IN_PROGRESS.querySelector('.item').addEventListener('dragend', endDrag);\r\n        LIST_IN_PROGRESS.querySelector('.accept-button').addEventListener('click', acceptItem);\r\n        LIST_IN_PROGRESS.querySelector('.delete-button').addEventListener('click', deleteItem);\r\n    }\r\n    if (state == 'done') {\r\n        LIST_DONE.insertAdjacentHTML('afterbegin', baseHTMLString);\r\n        LIST_DONE.querySelector('.buttons').insertAdjacentHTML('afterbegin', deleteButton);\r\n        LIST_DONE.querySelector('.delete-button').addEventListener('click', deleteItem);\r\n    }\r\n}\r\n\r\nfunction editItem(event) {\r\n    MAIN_MODAL.classList.add('open');\r\n    MAIN_MODAL.querySelector('.modal-content').dataset.id = event.target.parentNode.parentNode.dataset.id;\r\n    DOC.getElementById('date-modal').value = event.target.parentNode.parentNode.querySelector('.date').textContent;\r\n    DOC.getElementById('toDo-modal').value = event.target.parentNode.parentNode.querySelector('.item-text').textContent;\r\n    bodyLock();\r\n}\r\n\r\nfunction acceptItem(event) {\r\n    for (let data of ToDoListData) {\r\n        if (data.id == event.target.parentNode.parentNode.dataset.id) {\r\n            if (event.target.parentNode.parentNode.parentNode == LIST_EDIT) {\r\n                data.state = 'accept';\r\n            }\r\n            if (event.target.parentNode.parentNode.parentNode == LIST_IN_PROGRESS) {\r\n                data.state = 'done';\r\n            }\r\n            localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n            createItem(data);\r\n            removeListener(event);\r\n        }\r\n    }\r\n}\r\n\r\nfunction deleteItem(event) {\r\n    removeListener(event);\r\n    ToDoListData = ToDoListData.filter(data => data.id != event.target.parentNode.parentNode.dataset.id);\r\n    localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n}\r\n\r\nfunction removeListener(event) {\r\n    if (event.target.parentNode.parentNode.parentNode == LIST_EDIT) {\r\n        event.target.parentNode.parentNode.removeEventListener('dragstart', startDrag);\r\n        event.target.parentNode.parentNode.removeEventListener('dragend', endDrag);\r\n        event.target.parentNode.parentNode.querySelector('.edit-button').removeEventListener('click', editItem);\r\n        event.target.parentNode.parentNode.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n        event.target.parentNode.parentNode.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n    }\r\n    if (event.target.parentNode.parentNode.parentNode == LIST_IN_PROGRESS) {\r\n        event.target.parentNode.parentNode.removeEventListener('dragstart', startDrag);\r\n        event.target.parentNode.parentNode.removeEventListener('dragend', endDrag);\r\n        event.target.parentNode.parentNode.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n        event.target.parentNode.parentNode.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n    }\r\n    if (event.target.parentNode.parentNode.parentNode == LIST_DONE) {\r\n        event.target.parentNode.parentNode.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n    }\r\n    event.target.parentNode.parentNode.parentNode.removeChild(event.target.parentNode.parentNode);\r\n}\r\n\r\nfunction getUniqueId() {\r\n    const idLength = 32;\r\n    let id = (Math.floor((Math.random() * 25) + 10)).toString(36) + '-';\r\n    id += (new Date()).getTime().toString(36) + '-';\r\n    do {\r\n        id += (Math.floor((Math.random() * 50))).toString(36);\r\n    } while (id.length < idLength);\r\n    return id;\r\n}\r\n\r\nfunction startDrag(event) {\r\n    event.dataTransfer.setData(\"id\", event.target.dataset.id);\r\n    event.dataTransfer.effectAllowed = \"move\";\r\n    setTimeout(() => {\r\n        this.classList.add('drag-hide')\r\n    }, 0);\r\n}\r\n\r\nfunction endDrag() {\r\n    this.classList.remove('drag-hide')\r\n}\r\n\r\nfunction enterDrag(event) {\r\n    if (event.target.closest('.progress-card')) {\r\n        event.target.closest('.progress-card').classList.add('drag-hover');\r\n    }\r\n}\r\n\r\nfunction overDrag(event) {\r\n    event.preventDefault();\r\n    event.dataTransfer.dropEffect = \"move\"\r\n}\r\n\r\nfunction dropDrag(event) {\r\n    event.preventDefault();\r\n    const id = event.dataTransfer.getData(\"id\");\r\n    const items = DOC.querySelectorAll('.item');\r\n\r\n    for (let item of items) {\r\n        if (item.dataset.id == id) {\r\n            item.removeEventListener('dragstart', startDrag);\r\n            item.removeEventListener('dragend', endDrag);\r\n            if (item.parentNode == LIST_EDIT) {\r\n                item.querySelector('.edit-button').removeEventListener('click', editItem);\r\n                item.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n                item.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n            }\r\n            if (item.parentNode == LIST_IN_PROGRESS) {\r\n                item.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n                item.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n            }\r\n            item.parentNode.removeChild(item);\r\n        }\r\n    }\r\n\r\n    for (let data of ToDoListData) {\r\n        if (data.id == id) {\r\n            if (this == PROGRESS_AREA) {\r\n                data.state = 'accept';\r\n            }\r\n            if (this == DONE_AREA) {\r\n                data.state = 'done';\r\n            }\r\n            localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n            createItem(data);\r\n        }\r\n    }\r\n    this.classList.remove('drag-hover');\r\n}"]}