{"version":3,"sources":["js/constants.js","js/modal.js","js/main.js"],"names":["DOC","document","DATE_INPUT","getElementById","ADD_BUTTON","querySelector","INPUT_TEXT","PROGRESS_AREA","DONE_AREA","LIST_EDIT","LIST_IN_PROGRESS","LIST_DONE","MAIN_MODAL","ALERT_MODAL","SAVE_BUTTON","CLOSE_BUTTONS","querySelectorAll","CANCEL_BUTTON","OK_BUTTON","CURRENT_DATE","Date","body","timeOut","bodyLock","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","classList","add","bodyUnlock","setTimeout","remove","closeModal","event","target","closest","allCloseModalButtons","addCloseButtonsListener","getCurrentDate","ToDoListData","checkLocalStarage","buttons","addEventListener","name","localStorage","JSON","parse","getItem","Array","renderContent","data","createItem","date","textContent","getDate","getMonth","getFullYear","min","addNewCard","value","item","id","getUniqueId","text","state","push","showAlertMessage","baseHTMLString","acceptButton","deleteButton","insertAdjacentHTML","startDrag","endDrag","editItem","acceptItem","deleteItem","dataset","parentNode","setItem","stringify","removeListener","filter","removeEventListener","removeChild","idLength","Math","floor","random","toString","getTime","length","dataTransfer","setData","effectAllowed","enterDrag","overDrag","preventDefault","dropEffect","dropDrag","getData","items","contains","relatedTarget"],"mappings":"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","file":"main.d45697fe.js","sourceRoot":"..\\src","sourcesContent":["export const DOC = document;\r\nexport const DATE_INPUT=DOC.getElementById('date');\r\nexport const ADD_BUTTON = DOC.querySelector('.add-button');\r\nexport const INPUT_TEXT = DOC.getElementById('toDo');\r\nexport const PROGRESS_AREA=DOC.querySelector('.in-progress');\r\nexport const DONE_AREA=DOC.querySelector('.done');\r\nexport const LIST_EDIT = DOC.querySelector('.list-edit');\r\nexport const LIST_IN_PROGRESS = DOC.querySelector('.list-in-progress');\r\nexport const LIST_DONE = DOC.querySelector('.list-done');\r\nexport const MAIN_MODAL=DOC.getElementById('main-modal');\r\nexport const ALERT_MODAL=DOC.getElementById('alert-modal');\r\nexport const SAVE_BUTTON=DOC.querySelector('.save-button');\r\nexport const CLOSE_BUTTONS=DOC.querySelectorAll('.close-button');\r\nexport const CANCEL_BUTTON=DOC.querySelector('.cancel-button');\r\nexport const OK_BUTTON=DOC.querySelector('.ok-button');\r\nexport const CURRENT_DATE = new Date();","import { DOC } from './constants.js';\r\n\r\nconst body = DOC.querySelector('body');\r\nconst timeOut = 500;\r\n\r\nexport function bodyLock() {\r\n    const lockPaddingValue = window.innerWidth - DOC.querySelector('main').offsetWidth + 'px';\r\n    body.style.paddingRight = lockPaddingValue;\r\n    body.classList.add('lock');\r\n}\r\n\r\nfunction bodyUnlock() {\r\n    setTimeout(() => {\r\n        body.style.paddingRight = '0px';\r\n        body.classList.remove('lock');\r\n    }, timeOut);\r\n}\r\n\r\nexport function closeModal (event) {\r\n    event.target.closest('.modal').classList.remove('open');\r\n    bodyUnlock();\r\n}","import { DOC, DATE_INPUT, ADD_BUTTON, INPUT_TEXT,PROGRESS_AREA, DONE_AREA, LIST_EDIT, LIST_IN_PROGRESS, LIST_DONE, MAIN_MODAL, ALERT_MODAL, SAVE_BUTTON, CLOSE_BUTTONS, CANCEL_BUTTON, OK_BUTTON, CURRENT_DATE} from './constants.js';\r\nimport { bodyLock, closeModal } from './modal.js';\r\n\r\nlet allCloseModalButtons=[CANCEL_BUTTON,...CLOSE_BUTTONS, OK_BUTTON];\r\naddCloseButtonsListener(allCloseModalButtons);\r\n\r\ngetCurrentDate(CURRENT_DATE);\r\nlet ToDoListData = checkLocalStarage('ToDoListData');\r\n\r\nrenderContent(ToDoListData);\r\n\r\nPROGRESS_AREA.addEventListener('dragover', overDrag);\r\nPROGRESS_AREA.addEventListener('dragenter', enterDrag);\r\nPROGRESS_AREA.addEventListener('drop', dropDrag);\r\n\r\nPROGRESS_AREA.addEventListener('dragleave', function(event) {\r\n    if (!PROGRESS_AREA.contains(event.relatedTarget)) {\r\n        PROGRESS_AREA.classList.remove('drag-hover');\r\n    }\r\n});\r\n\r\nDONE_AREA.addEventListener('dragover', overDrag);\r\nDONE_AREA.addEventListener('dragenter', enterDrag);\r\nDONE_AREA.addEventListener('drop', dropDrag);\r\n\r\n\r\nDONE_AREA.addEventListener('dragleave', function(event) {\r\n    if (!DONE_AREA.contains(event.relatedTarget)) {\r\n        DONE_AREA.classList.remove('drag-hover');\r\n    }\r\n});\r\n\r\nADD_BUTTON.addEventListener('click', () => {\r\n    addNewCard(ToDoListData);\r\n    localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData))\r\n});\r\n\r\nSAVE_BUTTON.addEventListener('click', (event)=>{\r\n    for (let data of ToDoListData) {\r\n        if (data.id==event.target.parentNode.parentNode.dataset.id) {\r\n            data.date=DOC.getElementById('date-modal').value;\r\n            data.text=DOC.getElementById('toDo-modal').value;                   \r\n            localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));           \r\n        }\r\n    }\r\n    for (let item of DOC.querySelectorAll('.item-edit')) {\r\n        if (item.dataset.id==event.target.parentNode.parentNode.dataset.id) {\r\n            item.querySelector('.date').textContent=DOC.getElementById('date-modal').value;\r\n            item.querySelector('.item-text').textContent=DOC.getElementById('toDo-modal').value;                      \r\n        }\r\n    }\r\n    closeModal(event);\r\n});\r\n\r\nMAIN_MODAL.addEventListener('click', (event)=>{\r\n    if (!event.target.closest('.modal-content')) {\r\n        closeModal(event);\r\n    }\r\n});\r\n\r\nALERT_MODAL.addEventListener('click', (event)=>{\r\n    if (!event.target.closest('.modal-content')) {\r\n        closeModal(event);\r\n    }\r\n});\r\n\r\nfunction addCloseButtonsListener (buttons) {\r\n    for (let button of buttons) {\r\n        button.addEventListener('click', (event)=>{\r\n            closeModal(event);\r\n        });\r\n    }\r\n}\r\n\r\nfunction checkLocalStarage(name) {\r\n    if (name in localStorage) {\r\n        return JSON.parse(localStorage.getItem('ToDoListData'))\r\n    }\r\n    else {\r\n        return new Array;\r\n    }\r\n}\r\n\r\nfunction renderContent(data) {\r\n    for (let elem of data) {\r\n        createItem(elem);\r\n    }\r\n}\r\n\r\nfunction getCurrentDate(date) {\r\n    DOC.querySelector('.head-current-date').textContent=`${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n    DOC.getElementById('date').min=`${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    DOC.getElementById('date-modal').min=`${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n}\r\n\r\nfunction addNewCard(data) {\r\n    if ((INPUT_TEXT.value != '') && (DATE_INPUT.value != '')) {\r\n        const item = {\r\n            id: getUniqueId(),\r\n            date: DATE_INPUT.value,\r\n            text: INPUT_TEXT.value,\r\n            state: 'edit',\r\n        }\r\n        data.push(item);\r\n        createItem(item);\r\n        INPUT_TEXT.value='';\r\n    }\r\n    else {\r\n        showAlertMessage();\r\n    }\r\n}\r\n\r\nfunction showAlertMessage () {\r\n    ALERT_MODAL.classList.add('open');\r\n    bodyLock();\r\n}\r\n\r\nfunction createItem({id, date, text, state}) {\r\n    const baseHTMLString = `\r\n    <li class='item item-${state}' data-id='${id}' draggable=\"true\">\r\n    <div class='date date-${state}'>${date}</div>\r\n    <p class=\"item-text item-text-${state}\">${text}</p>\r\n    <div class=\"buttons buttons-${state}\">\r\n    </div>\r\n    </li>`;\r\n    const editButton=`<div class='button edit-button'></div>`;\r\n    const acceptButton=`<div class='button accept-button'></div>`;\r\n    const deleteButton=`<div class='button delete-button'></div>`;\r\n    if (state=='edit') {\r\n        LIST_EDIT.insertAdjacentHTML('afterbegin', baseHTMLString);\r\n        LIST_EDIT.querySelector('.buttons').insertAdjacentHTML('afterbegin', editButton+acceptButton+deleteButton);\r\n        LIST_EDIT.querySelector('.item').addEventListener('dragstart', startDrag);\r\n        LIST_EDIT.querySelector('.item').addEventListener('dragend', endDrag);\r\n        LIST_EDIT.querySelector('.edit-button').addEventListener('click', editItem);\r\n        LIST_EDIT.querySelector('.accept-button').addEventListener('click',acceptItem);\r\n        LIST_EDIT.querySelector('.delete-button').addEventListener('click', deleteItem);\r\n    }\r\n    if (state=='accept') {\r\n        LIST_IN_PROGRESS.insertAdjacentHTML('afterbegin', baseHTMLString);\r\n        LIST_IN_PROGRESS.querySelector('.buttons').insertAdjacentHTML('afterbegin', acceptButton+deleteButton);\r\n        LIST_IN_PROGRESS.querySelector('.item').addEventListener('dragstart', startDrag);\r\n        LIST_IN_PROGRESS.querySelector('.item').addEventListener('dragend', endDrag);\r\n        LIST_IN_PROGRESS.querySelector('.accept-button').addEventListener('click', acceptItem);\r\n        LIST_IN_PROGRESS.querySelector('.delete-button').addEventListener('click', deleteItem);\r\n    }\r\n    if (state=='done') {\r\n        LIST_DONE.insertAdjacentHTML('afterbegin', baseHTMLString);\r\n        LIST_DONE.querySelector('.buttons').insertAdjacentHTML('afterbegin', deleteButton);\r\n        LIST_DONE.querySelector('.delete-button').addEventListener('click', deleteItem);\r\n    }\r\n}\r\n\r\nfunction editItem (event) {\r\n    MAIN_MODAL.classList.add('open');\r\n    MAIN_MODAL.querySelector('.modal-content').dataset.id=event.target.parentNode.parentNode.dataset.id;\r\n    DOC.getElementById('date-modal').value=event.target.parentNode.parentNode.querySelector('.date').textContent;\r\n    DOC.getElementById('toDo-modal').value=event.target.parentNode.parentNode.querySelector('.item-text').textContent;\r\n    bodyLock();\r\n}\r\n\r\nfunction acceptItem (event) {\r\n    for (let data of ToDoListData) {\r\n        if (data.id==event.target.parentNode.parentNode.dataset.id) {\r\n            if (event.target.parentNode.parentNode.parentNode==LIST_EDIT) {\r\n                data.state='accept';\r\n            }\r\n            if (event.target.parentNode.parentNode.parentNode==LIST_IN_PROGRESS) {\r\n                data.state='done';\r\n            }          \r\n            localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n            createItem(data);\r\n            removeListener(event);\r\n        }\r\n    }\r\n}\r\n\r\nfunction deleteItem (event) {\r\n    removeListener(event);\r\n    ToDoListData=ToDoListData.filter(data => data.id != event.target.parentNode.parentNode.dataset.id);\r\n    localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n}\r\n\r\nfunction removeListener (event) {\r\n    if (event.target.parentNode.parentNode.parentNode==LIST_EDIT) {\r\n        event.target.parentNode.parentNode.removeEventListener('dragstart', startDrag);\r\n        event.target.parentNode.parentNode.removeEventListener('dragend', endDrag);        \r\n        event.target.parentNode.parentNode.querySelector('.edit-button').removeEventListener('click', editItem);\r\n        event.target.parentNode.parentNode.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n        event.target.parentNode.parentNode.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n    }\r\n    if (event.target.parentNode.parentNode.parentNode==LIST_IN_PROGRESS) {\r\n        event.target.parentNode.parentNode.removeEventListener('dragstart', startDrag);\r\n        event.target.parentNode.parentNode.removeEventListener('dragend', endDrag);\r\n        event.target.parentNode.parentNode.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n        event.target.parentNode.parentNode.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n    }\r\n    if (event.target.parentNode.parentNode.parentNode==LIST_DONE) {\r\n        event.target.parentNode.parentNode.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n    }    \r\n    event.target.parentNode.parentNode.parentNode.removeChild(event.target.parentNode.parentNode);\r\n}\r\n\r\nfunction getUniqueId () {\r\n    const idLength=32;\r\n    let id=(Math.floor((Math.random()*25)+10)).toString(36)+'-';\r\n    id+=(new Date()).getTime().toString(36)+'-';\r\n    do {\r\n        id+=(Math.floor((Math.random()*50))).toString(36);        \r\n    } while (id.length<idLength);\r\n    return id;\r\n}\r\n\r\nfunction startDrag (event) {\r\n    event.dataTransfer.setData(\"id\", event.target.dataset.id);\r\n    event.dataTransfer.effectAllowed = \"move\";\r\n    setTimeout(()=>{\r\n        this.classList.add('drag-hide')\r\n    }, 0);\r\n}\r\n\r\nfunction endDrag () {\r\n    this.classList.remove('drag-hide')\r\n}\r\n\r\nfunction enterDrag (event) {\r\n    if (event.target.closest('.progress-card')) {\r\n        event.target.closest('.progress-card').classList.add('drag-hover');\r\n    }        \r\n}\r\n\r\nfunction overDrag (event) {\r\n    event.preventDefault();\r\n    event.dataTransfer.dropEffect = \"move\"\r\n}\r\n\r\nfunction dropDrag (event) {\r\n    event.preventDefault();\r\n    const id = event.dataTransfer.getData(\"id\");\r\n    const items=DOC.querySelectorAll('.item');\r\n\r\n    for (let item of items) {\r\n        if (item.dataset.id==id) {\r\n            item.removeEventListener('dragstart', startDrag);\r\n            item.removeEventListener('dragend', endDrag);\r\n            if (item.parentNode==LIST_EDIT) {\r\n                item.querySelector('.edit-button').removeEventListener('click', editItem);\r\n                item.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n                item.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n            }\r\n            if (item.parentNode==LIST_IN_PROGRESS) {\r\n                item.querySelector('.accept-button').removeEventListener('click', acceptItem);\r\n                item.querySelector('.delete-button').removeEventListener('click', deleteItem);\r\n            }\r\n            item.parentNode.removeChild(item);\r\n        }\r\n    }\r\n\r\n    for (let data of ToDoListData) {\r\n        if (data.id==id) {\r\n            if (this==PROGRESS_AREA) {\r\n                data.state='accept';\r\n            }\r\n            if (this==DONE_AREA) {\r\n                data.state='done';\r\n            }          \r\n            localStorage.setItem('ToDoListData', JSON.stringify(ToDoListData));\r\n            createItem(data);\r\n        }\r\n    }    \r\n    this.classList.remove('drag-hover');\r\n}"]}